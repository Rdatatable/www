<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
  </style>
  <link rel="stylesheet" href="../css/bootstrap.css" type="text/css" />
</head>
<body>
<!-- <body> -->
<!-- Master nav - DO NOT TOUCH-->
<header>
<div class="navbar-default">
<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-main">
<span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span>
</button>
<nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
<ul class="nav navbar-nav">
<li>
<a href="../../"><span class="glyphicon glyphicon-home"></span> data.table</a>
</li>
</ul>
<ul class="nav navbar-nav navbar-left">
<li class="dropdown">
<a class="dropdown-toggle" data-toggle="dropdown" href="#" id="docs"><span class="glyphicon glyphicon-pencil"></span> Get started <span class="caret"></span></a>
<ul class="dropdown-menu" aria-labelledby="docs">
<li>
<a href="../about/">data.table project</a>
</li>
<li>
<a href="../intro/">Quick Introduction</a>
</li>
<li>
<a href="../learn-by-example/">Learn with example</a>
</li>
<li>
<a href="../faq/">FAQs</a>
</li>
</ul>
</li>
<li>
<a href="../benchmarks/"><span class="glyphicon glyphicon-wrench"></span> Benchmarks</a>
</li>
<li>
<a href="../gallery/"><span class="glyphicon glyphicon-book"></span> Gallery</a>
</li>
<li>
<a href="../new/"><span class="glyphicon glyphicon-cog"></span> What’s new</a>
</li>
</ul>
<ul class="nav navbar-nav navbar-right">
<li class="dropdown">
<a class="dropdown-toggle" data-toggle="dropdown" href="#" id="docs"><span class="glyphicon glyphicon-question-sign"></span> How to<span class="caret"></span></a>
<ul class="dropdown-menu" aria-labelledby="docs">
<li>
<a href="../get-involved/">Get involved</a>
</li>
</ul>
</li>
<li>
<a href="../notes/">Release Notes</a>
</li>
</ul>
</nav>
</div>
</header>
<!-- internals/index.html -->
<!-- ACTUAL CONTENT STARTS HERE -->
<div class='container bs-docs-container'>
<div class='row'>
<div class='col-md-9'>
<p class='leadtop'> 
This post explains writing content for <code>data.table</code> website in markdown format. We make use of the awesome <a href="http://johnmacfarlane.net/pandoc/demo/example9/pandocs-markdown.html">pandoc markdown format</a> to write in markdown and then convert it to <code>html</code> and style it with <code>css</code>.
</p>
<div bs-docs-section>
<h1 id="pandoc-markdown" class="page-header">Pandoc markdown</h1>
<p > 
Pandoc markdown is considerably richer than the default markdown, especially if you wish to style with <code>CSS</code>. For example, if you’d like to generate some text with the <code>&lt;h1&gt;</code> tag, but with a<span class="text-success"> class</span> and<span class="text-success"> id</span> attribute, then you can just do:
</p>
<pre class="sourceCode markdown"><code class="sourceCode markdown"><span class="fu"># Sample heading {.header #sample-heading}</span></code></pre>
<p > 
This translates to:
</p>
<pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;h1</span><span class="ot"> class=</span><span class="st">&quot;header&quot;</span><span class="ot"> id=</span><span class="st">&quot;sample-heading&quot;</span><span class="kw">&gt;</span>Sample heading<span class="kw">&lt;/h1&gt;</span></code></pre>
<p > 
And if you’d want to insert some R-code to your markdown, then:
</p>
<pre class="sourceCode r">
<code>```{.r}
require(data.table)
dt <- data.table(x=1:5, y=6:10) # create a data.table
```</code></pre>
<p > 
This results in very nicely highlighed code as follows:
</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">require</span>(data.table)
dt &lt;-<span class="st"> </span><span class="kw">data.table</span>(<span class="dt">x=</span><span class="dv">1</span>:<span class="dv">5</span>, <span class="dt">y=</span><span class="dv">6</span>:<span class="dv">10</span>) <span class="co"># create a data.table</span></code></pre>
<p > 
How awesome is that? Now obviously we are not going to discuss every syntax from pandoc’s markdown in this post. Please go through the website linked above to get familiar with it. Here’s the <a href="https://github.com/jgm/pandoc/wiki">wiki</a> if you wish to learn more.
</p>
</div>
<div bs-docs-section>
<h1 id="custom-parser" class="page-header">Custom parser</h1>
<p > 
One nice feature that pandoc has not implemented<span class="text-danger"> <strong>yet</strong></span> is allowing <em>nested</em> <code>&lt;div&gt;</code> elements; this is particularly useful if we’d like to style with <code>CSS</code>. There have been <a href="https://github.com/jgm/pandoc/issues/168">discsussions</a> on this topic and hopefully it will get implemented soon.
</p>
    
<p > 
To overcome this limitation, I have written a custom parser in R, allowing a little extra functionality enabling us to write relatively cleaner (easy to read) markdown along with nested <code>&lt;div&gt;</code>s.
</p>
<div id='parser-will-evolve' class='bs-callout bs-callout-warning'>
<p > 
Note that my experience with <code>html</code> and <code>css</code> is very little. And therefore it is very much possible have overlooked some possible scenarios in the parser’s implementation. It is likely to evolve in order to overcome issues as and when we come across. This page will be updated to reflect such changes
</p>
</div>
<p > 
Here’s a list of added functionalities with illustration.
</p>
<h2 id="nested-divs">Nested <code>div</code> elements:</h2>
<p>Suppose we’d like for the html generated to be:</p>
<pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&#39;container bs-docs-container&#39;</span><span class="kw">&gt;</span>
    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&#39;row&#39;</span><span class="kw">&gt;</span>
        <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&#39;col-md-9&#39;</span><span class="kw">&gt;</span>
            A sample sentence.
        <span class="kw">&lt;/div&gt;</span>
    <span class="kw">&lt;/div&gt;</span>
<span class="kw">&lt;/div&gt;</span></code></pre>
We can accomplish this by using <code>.div</code> as follows:
<pre class="markdown">
<code>.div{.container .bs-docs-container}
.div{.row}
.div{.col-md-9}
A sample sentence.
.div
.div
.div</code></pre>
<p > 
Each <code>.div</code> should be on its own line, at the beginning, or alternatively, it should be separated with a <code>%&gt;%</code>. The parser basically splits the line at every <code>%&gt;%</code>. If the line after splitting on <code>%&gt;%</code> doesn’t result in <code>.div</code> at the beginning of the line, then it would not be replaced properly. The line may contain any amount of spaces at the beginning of the line before the <code>.div</code>. Here are a few examples highlighting what’s accepted and what’s not.
</p>
<pre class="markdown">
<code>.div{.container .bs-docs-container} # starts with .div - okay
    .div{.row}                      # spaces at the beginning - okay
bla .div{.col-md-9}                 # the script won't be able to detect this - not okay
bla %>% .div{.col-md-9}             # the line split on will result in .div at the beginning - okay</code></pre>
<p > 
However it’s better to refrain from adding spaces at the beginning as some of Pandoc’s markdown syntaxes do depend on spacing.
</p>
<h2 id="p-inline-span"><code>p</code> and inline <code>span</code>:</h2>
<p><a href="bootswatch.com">bootswatch</a> themes provide us with different CSS styles for colouring texts. Suppose we’d like to highlight a text in<span class="text-success"> green</span>, then, we can do it by adding the corresponding CSS to <code>span</code>’s <code>class</code> as follows:</p>
<pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;p&gt;</span>Suppose we&#39;d like to highlight a text in span<span class="kw">&lt;class</span> <span class="ot">=</span> <span class="st">&quot;text-success&quot;</span><span class="kw">&gt;</span>green<span class="kw">&lt;/span&gt;</span>, then ... <span class="kw">&lt;/p&gt;</span></code></pre>
<p>This is currently designed to be equivalently written in custom markdown as:</p>
<pre class="sourceCode markdown"><code class="sourceCode markdown">Suppose we&#39;d like to highlight a text in %&gt;% green !!{.text-success} %&gt;%, then ... .p{}</code></pre>
<p>The line is split at every <code>%&gt;%</code> which results in <code>green !!{.text-success}</code>, which gets converted to:</p>
<pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;text-success&quot;</span><span class="kw">&gt;</span>green<span class="kw">&lt;/span&gt;</span></code></pre>
<p > 
And the <code>.p{}</code> at the end of the line wraps this entire text with <code>&lt;p&gt;&lt;/p&gt;</code>. We can add attributes to <code>.p{}</code> similar to <code>.div</code> element as follows:
</p>
<pre class="sourceCode markdown"><code class="sourceCode markdown">Suppose we&#39;d like to highlight a text in %&gt;% green !!{.text-success} %&gt;%, then ... .p{.lead #sample}</code></pre>
<p>which will result in:</p>
<pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;p</span><span class="ot"> class=</span><span class="st">&quot;lead&quot;</span><span class="ot"> id=</span><span class="st">&quot;sample&quot;</span><span class="kw">&gt;</span>Suppose we&#39;d like to highlight a text in span<span class="kw">&lt;class</span> <span class="ot">=</span> <span class="st">&quot;text-success&quot;</span><span class="kw">&gt;</span>green<span class="kw">&lt;/span&gt;</span>, then ... <span class="kw">&lt;/p&gt;</span></code></pre>
<p > 
Since we use <code>span</code> a lot inline, I’ve defined <code>!!</code> to be a symbol to facilitate writing inline easily. However, note that inlining <code>span</code> can not be nested. If you want it to be nested, you’ll have to use <code>.span{}</code>, which is discussed in the next section.
</p>
<p > 
It is recommended to finish every paragraph with <code>.p{..}</code>.
</p>
<h2 id="span"><code>span</code>:</h2>
<p > 
Here’s an example to illustrate the usage of <code>.span{}</code>:
</p>
<pre class="sourceCode html"><code class="sourceCode html">.span{.list-group-item}
<span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">&quot;http://www.google.com&quot;</span><span class="kw">&gt;</span>Here&#39;s a link.<span class="kw">&lt;/a&gt;</span> 
Click to go to google.com. .p{.list-group-item-text}
.span</code></pre>
<p > 
gets parsed to:
</p>
<pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&#39;list-group-item&#39;</span><span class="kw">&gt;</span>
<span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">&quot;http://www.google.com&quot;</span><span class="kw">&gt;</span>Here&#39;s a link.<span class="kw">&lt;/a&gt;</span> 
<span class="kw">&lt;p</span><span class="ot"> class=</span><span class="st">&#39;list-group-item-text&#39;</span><span class="kw">&gt;</span> Click to go to google.com. <span class="kw">&lt;/p&gt;</span>
<span class="kw">&lt;/span&gt;</span></code></pre>
<p > 
whcih in turn results in:
</p>
<span class='list-group-item'> <a href="http://www.google.com">Here’s a link.</a>
<p class='list-group-item-text'> 
Click to go to google.com.
</p>
</span>
<p></p>
<p > 
Note that all the values for <code>class</code> attribute we’ve entered so far is from <a href="http://bootswatch.com/cerulean/">bootswatch</a>’s CSS. You can have a look at the code by hovering your mouse over any element there and get the corresponding html code.
</p>
<h2 id="li-and-ul"><code>li</code> and <code>ul</code>:</h2>
<p>This is very similar to <code>.span</code> or <code>.div</code>. It’d be much more easier to follow with an example.</p>
<pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;ul</span><span class="ot"> class=</span><span class="st">&quot;ul_one&quot;</span><span class="kw">&gt;</span>
    <span class="kw">&lt;li</span><span class="ot"> class=</span><span class="st">&quot;li_one&quot;</span><span class="kw">&gt;</span>Main text 1
        <span class="kw">&lt;ul</span><span class="ot"> class=</span><span class="st">&quot;ul_two&quot;</span><span class="kw">&gt;</span>
            <span class="kw">&lt;li</span><span class="ot"> class=</span><span class="st">&quot;li_two&quot;</span><span class="kw">&gt;</span>text 2<span class="kw">&lt;/li&gt;</span>
            <span class="kw">&lt;li</span><span class="ot"> class=</span><span class="st">&quot;li_three&quot;</span><span class="kw">&gt;</span>text 3<span class="kw">&lt;/li&gt;</span>
        <span class="kw">&lt;/ul&gt;</span>
    <span class="kw">&lt;/li&gt;</span>
<span class="kw">&lt;/ul&gt;</span></code></pre>
can be written in custom markdown format as follows:
<pre>
<code>.ul{ul_one}
.li{.li_one} %>% Main text 1
.ul{.ul_two}
.li{.li_two} %>% text 2 %>% .li
.li{.li_three} %>% text 3 %>% .li
.ul
.li
.ul</code></pre>
<p > 
And this results in:
</p>
<ul ul_one>
<li> 
Main text 1
<ul class='ul_two'>
<li> 
text 2
</li>
<li> 
text 3
</li>
</ul>
</li>
</ul>
</div>
<h2 id="key-value">Attributes as key=value:</h2>
<p>One final note. Sometimes it maybe required to add a custom attribute that’s not<span class="text-success"> class</span> or<span {.text-success}.="" it's="" easily="" accomplished="" as="" follows:=""> id</span> For example, the html line:</p>
<pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;p&gt;</span>This is <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;text-success&quot;</span><span class="kw">&gt;</span>my text<span class="kw">&lt;/span&gt;</span>.<span class="kw">&lt;/p&gt;</span></code></pre>
can be also written as:
<pre><code>This is %>% my text !!{class=text-success} %>%. .p{}</code></pre>
<p > 
which results in: This is<span class="text-success"> my text</span>.
</p>
<h2 id="section" class="page-header"></h2>
<p > 
And that is it for now. This page will be updated if/when changes are made to existing methods discussed above or newer methods are implemented. In any case, this, I believe should allow us to take the powerful pandoc markdown format one step further and write relatively nicely readable markdown format, which can then be turned into awesome looking pages by incorporating CSS easily, like this page.
</p>
</div>
<!-- Right hand side -->
<div class='col-md-3'>
<div class='bs-sidebar hidden-print' role='complementary'>
<ul class='nav bs-sidenav'>
<li> 
<a href="#pandoc-markdown">Pandoc markdown</a>
</li>
<li> 
<a href="#custom-parser">Custom parser</a>
<ul class='nav'>
<li> 
<a href="#nested-divs">Nested <code>div</code> elements:</a>
</li>
<li> 
<a href="#p-inline-span"><code>p</code> and inline <code>span</code>:</a>
</li>
<li> 
<a href="#span"><code>span</code>:</a>
</li>
<li> 
<a href="#li-and-ul"><code>li</code> and <code>ul</code>:</a>
</li>
<li> 
<a href="#key-value">Attributes as key=value:</a>
</li>
</ul>
</li>
<li> 
<a href="#top">Back to top</a>
</li>
</ul>
</div>
</div>
</div>
</div>
<!-- FOOTER - YOU WOULDNT HAVE TO MODIFY THIS PART -->
<footer class="bs-footer" role="contentinfo">
<div class="container">
<iframe src="http://ghbtns.com/github-btn.html?user=Rdatatable&repo=data.table&type=watch&count=true"
allowtransparency="true" frameborder="0" scrolling="0" width="110" height="20"></iframe>
<iframe src="http://ghbtns.com/github-btn.html?user=Rdatatable&repo=data.table&type=fork&count=true"
allowtransparency="true" frameborder="0" scrolling="0" width="95" height="20"></iframe>
<div class="footer-links">
<p>
Built and maintained by <a href="https://twitter.com/arun_sriniv">Arun Srinivasan</a> and <a href="https://twitter.com/MattDowle">Matt Dowle</a>.
</p>
<p>
Designed using <a href="http://getbootstrap.com">Bootstrap</a> and styled with <a href="http://bootswatch.com/">Bootswatch</a> using <a href="http://bootswatch.com/cerulean">Cerulean</a> theme.
</p>
</div>
<ul class="footer-links muted">
<li>
Version 1.9.2
</li>
<li>
·
</li>
<li>
<a href="https://github.com/Rdatatable/data.table">Homepage</a>
</li>
<li>
·
</li>
<li>
<a href="https://github.com/Rdatatable/data.table/graphs/contributors">Contributors</a>
</li>
<li>
·
</li>
<li>
<a href="https://github.com/Rdatatable/data.table/issues?direction=desc&labels=bug&sort=updated&state=open">Issues</a>
</li>
<li>
·
</li>
<li>
<a href="https://github.com/Rdatatable/data.table/issues?direction=desc&labels=feature+request&page=1&sort=updated&state=open">Feature Requests</a>
</li>
<li>
·
</li>
<li>
<a href="https://r-forge.r-project.org/mail/?group_id=240">Mailing list</a>
</li>
<li>
·
</li>
<li>
<a href="http://stackoverflow.com/questions/tagged/r+data.table">Stackoverflow tag</a>
</li>
</ul>
<span class="pull-right"><a href="#top">Back to top</a></span>
</div>
</footer>
<script src="https://code.jquery.com/jquery.js"></script>
<script src="../js/waypoints.js"></script>
<script src="../js/bootstrap.min.js"></script>
<script src="../js/docs.min.js"></script>
<!-- Start of StatCounter Code -->
<script type="text/javascript">
var sc_project=6237851;
var sc_invisible=1;
var sc_security="518c93ca";
</script>
<script type="text/javascript" src="http://www.statcounter.com/counter/counter.js"></script>
<noscript>
<div class="statcounter">
<a title="tumblr stats" href="http://statcounter.com/tumblr/" > <img class="statcounter" src="http://c.statcounter.com/6237851/0/518c93ca/1/" alt="tumblr stats" ></a>
</div>
</noscript>
<!-- End of StatCounter Code -->
</body>
</html>
</body>
</html>
